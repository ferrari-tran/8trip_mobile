/*! UIkit 3.0.0-beta.32 | http://www.getuikit.com | (c) 2014 - 2017 YOOtheme | MIT License */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("uikitslideshow",e):t.UIkitSlideshow=e()}(this,function(){"use strict";function t(e){function i(t,e){return h(t*(1-(e-e*t)))}function n(t,e){return c(c(t,"color",e),"color").split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(function(t){return g(t)})}function s(t,e){var i=t.length-1,n=Math.min(Math.floor(i*e),i-1),s=t.slice(n,n+2);return s.push(1===e?1:e%(1/i)*i),s}function r(t,e){var i=s(t,e),n=i[0],r=i[1],a=i[2];return(p(n)?n+Math.abs(n-r)*a*(n<r?1:-1):+r).toFixed(2)}if(!t.installed){var a=e.mixin,o=e.util,h=o.clamp,c=o.css,u=o.Dimensions,l=o.each,d=o.getImage,f=o.includes,p=o.isNumber,m=o.isUndefined,v=o.scrolledOver,g=o.toFloat,x=o.query,w=o.win,b=["x","y","bgx","bgy","rotate","scale","color","backgroundColor","borderColor","opacity","blur","hue","grayscale","invert","saturate","sepia","fopacity"];a.parallax={props:b.reduce(function(t,e){return t[e]="list",t},{media:"media"}),defaults:b.reduce(function(t,e){return t[e]=void 0,t},{media:!1}),computed:{props:function(t,e){var i=this;return b.reduce(function(s,r){if(m(t[r]))return s;var a,o,h,u=r.match(/color/i),l=u||"opacity"===r,d=t[r].slice(0);l&&c(e,r,""),d.length<2&&d.unshift(("scale"===r?1:l?c(e,r):0)||0);var p=f(d.join(""),"%")?"%":"px";if(u){var v=e.style.color;d=d.map(function(t){return n(e,t)}),e.style.color=v}else d=d.map(g);if(r.match(/^bg/))if(c(e,"background-position-"+r[2],""),o=c(e,"backgroundPosition").split(" ")["x"===r[2]?0:1],i.covers){var x=Math.min.apply(Math,d),w=Math.max.apply(Math,d);d=d.map(function(t){return t-x}),h=w-x,a=-1*Math.max.apply(Math,d)+"px"}else a=o;return s[r]={steps:d,unit:p,pos:a,bgPos:o,diff:h},s},{})},bgProps:function(){var t=this;return["bgx","bgy"].filter(function(e){return e in t.props})},covers:function(t,e){return"cover"===c(""!==e.style.backgroundSize?c(e,"backgroundSize",""):e,"backgroundSize")}},disconnected:function(){delete this._image},update:[{read:function(){var t=this;if(delete this._computeds.props,this._active=!this.media||w.matchMedia(this.media).matches,this._image&&(this._image.dimEl={width:this.$el.offsetWidth,height:this.$el.offsetHeight}),m(this._image)&&this.covers&&this.bgProps.length){var e=c(this.$el,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");e&&(this._image=!1,d(e).then(function(e){t._image={width:e.naturalWidth,height:e.naturalHeight},t.$emit()}))}},write:function(){var t=this;if(this._image)if(this._active){var e=this._image,i=e.dimEl,n=u.cover(e,i);this.bgProps.forEach(function(s){var r=t.props[s],a=r.diff,o=r.bgPos,h=r.steps,c="bgy"===s?"height":"width",l=n[c]-i[c];o.match(/%$/)&&(l<a?i[c]=n[c]+a-l:l>a&&(t.props[s].steps=h.map(function(t){return t-(l-a)/(100/parseFloat(o))})),n=u.cover(e,i))}),c(this.$el,{backgroundSize:n.width+"px "+n.height+"px",backgroundRepeat:"no-repeat"})}else c(this.$el,{backgroundSize:"",backgroundRepeat:""})},events:["load","resize"]}],methods:{reset:function(){var t=this;l(this.getCss(0),function(e,i){return c(t.$el,i,"")})},getCss:function(t){var e=!1,i=this.props;return Object.keys(i).reduce(function(n,a){var o=i[a],h=o.steps,c=o.unit,u=o.pos,l=r(h,t);switch(a){case"x":case"y":if(e)break;var d=["x","y"].map(function(e){return a===e?l+c:i[e]?r(i[e].steps,t)+i[e].unit:0}),f=d[0],p=d[1];e=n.transform+=" translate3d("+f+", "+p+", 0)";break;case"rotate":n.transform+=" rotate("+l+"deg)";break;case"scale":n.transform+=" scale("+l+")";break;case"bgy":case"bgx":n["background-position-"+a[2]]="calc("+u+" + "+(l+c)+")";break;case"color":case"backgroundColor":case"borderColor":var m=s(h,t),v=m[0],x=m[1],w=m[2];n[a]="rgba("+v.map(function(t,e){return t+=w*(x[e]-t),3===e?g(t):parseInt(t,10)}).join(",")+")";break;case"blur":n.filter+=" blur("+l+"px)";break;case"hue":n.filter+=" hue-rotate("+l+"deg)";break;case"fopacity":n.filter+=" opacity("+l+"%)";break;case"grayscale":case"invert":case"saturate":case"sepia":n.filter+=" "+a+"("+l+"%)";break;default:n[a]=l}return n},{transform:"",filter:""})}}},e.component("parallax",{mixins:[a.parallax],props:{target:String,viewport:Number,easing:Number},defaults:{target:!1,viewport:1,easing:1},computed:{target:function(t,e){var i=t.target;return i&&x(i,e)||e}},disconnected:function(){delete this._prev},update:[{read:function(){this._percent=i(v(this.target)/(this.viewport||1),this.easing)},write:function(t){"scroll"!==t.type&&delete this._prev,this._active?this._prev!==this._percent&&(c(this.$el,this.getCss(this._percent)),this._prev=this._percent):this.reset()},events:["scroll","load","resize"]}]})}}function e(t){return void 0===t&&(t=0),"translate("+t+(t?"%":"")+", 0)"}function i(t){return"scale3d("+t+", "+t+", 1)"}function n(t){function e(t,e,n,s,r,a){var o=t.percent,h=t.translate,c=(0,t.show)(r);return{animation:t,dir:r,current:n,next:s,show:function(t,o,h){var u=this;void 0===o&&(o=0);var l=h?"linear":e;return t-=Math.round(t*o),this.translate(o),i(s,"itemin",{percent:o,duration:t,ease:l,dir:r}),n&&i(n,"itemout",{percent:1-o,duration:t,ease:l,dir:r}),P.all([W.start(s,c[1],t,l),n&&W.start(n,c[0],t,l)]).then(function(){u.reset(),a()},z)},stop:function(){return W.stop([s,n])},cancel:function(){W.cancel([s,n])},reset:function(){for(var t in c[0])m([s,n],t,"")},forward:function(t){var e=this.percent();W.cancel([s,n]),this.show(t,e,!0)},translate:function(t){var e=h(t,r);m(s,e[1]),n&&m(n,e[0]),i(s,"itemtranslatein",{percent:t,dir:r}),n&&i(n,"itemtranslateout",{percent:1-t,dir:r})},percent:function(){return o(n,s,r)}}}function i(t,e,i){U(t,p(e,!1,!1,i))}function s(t){return~~t}function a(t,e){return"next"===t?1:"previous"===t?-1:t<e?-1:1}function o(t){return.5*t+300}if(!n.installed){var h=t.util,c=h.$$,u=h.$,l=h.addClass,d=h.assign,f=h.attr,p=h.createEvent,m=h.css,v=h.doc,g=h.endsWith,x=h.fastdom,w=h.getIndex,b=h.getPos,y=h.hasClass,k=h.index,I=h.isTouch,z=h.noop,_=h.off,$=h.on,A=h.pointerDown,M=h.pointerMove,C=h.pointerUp,H=h.preventClick,P=h.Promise,S=h.removeClass,L=h.toggleClass,W=h.Transition,U=h.trigger;t.mixin.slideshow={attrs:!0,props:{autoplay:Boolean,autoplayInterval:Number,pauseOnHover:Boolean,animation:String,easing:String,velocity:Number},defaults:{autoplay:!1,autoplayInterval:7e3,pauseOnHover:!0,animation:"slide",easing:"ease",velocity:1,index:0,stack:[],threshold:10,percent:0,clsActive:"uk-active",clsActivated:"uk-transition-active",initialAnimation:!1,Animations:r(t)},computed:{list:function(t,e){var i=t.selList;return u(i,e)},slides:function(){return c(this.list.children)},animation:function(t){var e=t.animation,i=t.Animations;return d(e in i?i[e]:i.slide,{name:e})},duration:function(t,e){var i=t.velocity;return o(e.offsetWidth/i)}},init:function(){var t=this;["start","move","end"].forEach(function(e){var i=t[e];t[e]=function(e){var n=b(e).x;t.prevPos=n!==t.pos?t.pos:t.prevPos,t.pos=n,i(e)}})},connected:function(){this.startAutoplay()},disconnected:function(){this.stopAutoplay()},update:[{read:function(){delete this._computeds.duration},events:["load","resize"]}],events:[{name:"click",delegate:function(){return"["+this.attrItem+"]"},handler:function(t){t.preventDefault(),t.current.blur(),this.show(f(t.current,this.attrItem))}},{name:A,delegate:function(){return this.selList+" > *"},handler:"start"},{name:"visibilitychange",el:v,handler:function(){v.hidden?this.stopAutoplay():this.startAutoplay()}},{name:A,handler:"stopAutoplay"},{name:"mouseenter",filter:function(){return this.autoplay},handler:function(){this.isHovering=!0}},{name:"mouseleave",filter:function(){return this.autoplay},handler:function(){this.isHovering=!1}},{name:"beforeitemshow",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){var e=t.target;l(e,this.clsActive)}},{name:"itemshown",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){var e=t.target;l(e,this.clsActivated)}},{name:"itemshow itemhide",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){var e=t.type,i=t.target;L(c("["+this.attrItem+'="'+k(i)+'"]',this.$el),this.clsActive,g(e,"show"))}},{name:"itemhidden",self:!0,delegate:function(){return this.selList+" > *"},handler:function(t){var e=t.target;S(e,this.clsActive),S(e,this.clsActivated)}},{name:"itemshow itemhide itemshown itemhidden",self:!0,delegate:function(){return this.selList+" > *"},handler:function(e){var i=e.target;t.update(null,i)}}],methods:{start:function(t){if(!(t.button&&0!==t.button||this.slides.length<2||(I(t)||t.preventDefault(),this._animation&&this._animation.animation!==this.animation))){var e=0;if(this.stack.length){var i=this._animation,n=i.dir,s=i.percent,r=i.cancel,a=i.translate;e=s()*n,this.percent=Math.abs(e)*-n,this.stack.splice(0,this.stack.length),r(),a(Math.abs(e)),this.index=this.getIndex(this.index-n),this.touching=!0}$(v,M,this.move,!0),$(v,C,this.end,!0),this.touch=this.pos+this.$el.offsetWidth*e}},move:function(){var i=this;if(!(this.pos===this.prevPos||!this.touching&&Math.abs(this.touch-this.pos)<this.threshold)){this.touching=!0;var n=(this.pos-this.touch)/this.$el.offsetWidth;if(this.percent!==n){var r=this.getIndex(this.index-s(this.percent)),a=this.getIndex(this.index-s(n)),o=this.slides[a],h=n<0?1:-1,c=w(n<0?"next":"previous",this.slides,a),u=this.slides[c];this.slides.forEach(function(t,e){return L(t,i.clsActive,e===a||e===c)}),a!==r&&(this._animation&&this._animation.reset(),U(this.slides[r],"itemhide",[this]),U(o,"itemshow",[this])),this._animation=new e(this.animation,this.easing,o,u,h,z),this._animation.translate(Math.abs(n%1)),this.percent=n,t.update(null,o),t.update(null,u)}}},end:function(){if(_(v,M,this.move,!0),_(v,C,this.end,!0),this.touching){var t=this.percent;this.percent=Math.abs(this.percent)%1,this.index=this.getIndex(this.index-s(t)),(this.percent<.1||t<0==this.pos>this.prevPos)&&(this.index=this.getIndex(t>0?"previous":"next"),this.percent=1-this.percent,t*=-1),this.show(t>0?"previous":"next",!0),H()}this.pos=this.prevPos=this.touch=this.touching=this.percent=null},show:function(t,e){var i=this;if(void 0===e&&(e=!1),e||!this.touch)if(this.stack[e?"unshift":"push"](t),!e&&this.stack.length>1)2===this.stack.length&&this._animation.forward(250);else{var n=this.index,s=this.getIndex(t),r=y(this.slides,"uk-active")&&this.slides[n],o=this.slides[s];if(r!==o){r&&U(r,"beforeitemhide",[this]),U(o,"beforeitemshow",[this]),this.index=s;var h=function(){r&&U(r,"itemhidden",[i]),U(o,"itemshown",[i]),x.mutate(function(){i.stack.shift(),i.stack.length?i.show(i.stack.shift(),!0):i._animation=null})};(r||this.initialAnimation)&&this._show(r?this.animation:this.Animations[this.initialAnimation],e?"cubic-bezier(0.165, 0.840, 0.440, 1.000)":this.easing,r,o,a(t,n),this.stack.length>1,h),r&&U(r,"itemhide",[this]),U(o,"itemshow",[this]),r||this.initialAnimation||h(),r&&x.flush()}else this.stack[e?"shift":"pop"]()}},_show:function(t,i,n,s,r,a,o){this._animation=new e(t,i,n,s,r,o),this._animation.show(n===s?300:a?150:this.duration,this.percent,a)},getIndex:function(t){return void 0===t&&(t=this.index),w(t,this.slides,this.index)},startAutoplay:function(){var t=this;this.stopAutoplay(),this.autoplay&&(this.interval=setInterval(function(){return!(t.isHovering&&t.pauseOnHover)&&t.show("next")},this.autoplayInterval))},stopAutoplay:function(){this.interval&&clearInterval(this.interval)}}}}}function s(e){function i(t){return d(t,"in")}function r(t,e,n){return n/=2,i(t)?e<0?1-n:n:e<0?n:1-n}if(!s.installed){e.use(t),e.use(n);var o=e.mixin,h=e.util,c=h.closest,u=h.css,l=h.fastdom,d=h.endsWith,f=h.height,p=h.noop,m=h.Transition;e.component("slideshow",{mixins:[o.class,o.slideshow],props:{ratio:String,minHeight:Boolean,maxHeight:Boolean},defaults:{ratio:"16:9",minHeight:!1,maxHeight:!1,selList:".uk-slideshow-items",attrItem:"uk-slideshow-item",Animations:a(e)},ready:function(){var t=this;l.mutate(function(){return t.show(t.index)})},update:{read:function(){var t=this.ratio.split(":").map(Number),e=t[0],i=t[1];this.height=i*this.$el.offsetWidth/e,this.minHeight&&(this.height=Math.max(this.minHeight,this.height)),this.maxHeight&&(this.height=Math.min(this.maxHeight,this.height))},write:function(){f(this.list,Math.floor(this.height))},events:["load","resize"]}}),e.component("slideshow-parallax",{mixins:[o.parallax],computed:{item:function(){var t=e.getComponent(c(this.$el,".uk-slideshow"),"slideshow");return t&&c(this.$el,t.selList+" > *")}},events:[{name:"itemshown",self:!0,el:function(){return this.item},handler:function(){u(this.$el,this.getCss(.5))}},{name:"itemin itemout",self:!0,el:function(){return this.item},handler:function(t){var e=t.type,n=t.detail,s=n.percent,a=n.duration,o=n.ease,h=n.dir;m.cancel(this.$el),u(this.$el,this.getCss(r(e,h,s))),m.start(this.$el,this.getCss(i(e)?.5:h>0?1:0),a,o).catch(p)}},{name:"transitioncanceled transitionend",self:!0,el:function(){return this.item},handler:function(){m.cancel(this.$el)}},{name:"itemtranslatein itemtranslateout",self:!0,el:function(){return this.item},handler:function(t){var e=t.type,i=t.detail,n=i.percent,s=i.dir;m.cancel(this.$el),u(this.$el,this.getCss(r(e,s,n)))}}]})}}"undefined"!=typeof window&&window.UIkit&&window.UIkit.use(t);var r=function(t){var i=t.util.css,n={slide:{show:function(t){return[{transform:e(-100*t)},{transform:e()}]},percent:function(t){return n.translated(t)},translate:function(t,i){return[{transform:e(-100*i*t)},{transform:e(100*i*(1-t))}]}},translated:function(t){return Math.abs(i(t,"transform").split(",")[4]/t.offsetWidth)}};return n},a=function(t){var n=t.mixin,s=t.util,r=s.assign,a=s.css,o=r({},n.slideshow.defaults.Animations,{fade:{show:function(){return[{opacity:0,zIndex:0},{zIndex:-1}]},percent:function(t){return 1-a(t,"opacity")},translate:function(t){return[{opacity:1-t,zIndex:0},{zIndex:-1}]}},scale:{show:function(){return[{opacity:0,transform:i(1.5),zIndex:0},{zIndex:-1}]},percent:function(t){return 1-a(t,"opacity")},translate:function(t){return[{opacity:1-t,transform:i(1+.5*t),zIndex:0},{zIndex:-1}]}},pull:{show:function(t){return t<0?[{transform:e(30),zIndex:-1},{transform:e(),zIndex:0}]:[{transform:e(-100),zIndex:0},{transform:e(),zIndex:-1}]},percent:function(t){return o.translated(t)},translate:function(t,i){return i<0?[{transform:e(30*t),zIndex:-1},{transform:e(-100*(1-t)),zIndex:0}]:[{transform:e(100*-t),zIndex:0},{transform:e(30*(1-t)),zIndex:-1}]}},push:{show:function(t){return t<0?[{transform:e(100),zIndex:0},{transform:e(),zIndex:-1}]:[{transform:e(-30),zIndex:-1},{transform:e(),zIndex:0}]},percent:function(t,e){return 1-o.translated(e)},translate:function(t,i){return i<0?[{transform:e(100*t),zIndex:0},{transform:e(-30*(1-t)),zIndex:-1}]:[{transform:e(-30*t),zIndex:-1},{transform:e(100*(1-t)),zIndex:0}]}}});return o};return"undefined"!=typeof window&&window.UIkit&&window.UIkit.use(s),s});